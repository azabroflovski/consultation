var Ajax={Utils:{toQueryString:function(e){var t=[];for(var a in e){var n=a+"="+e[a];t.push(n)}return t.join("&")},serialize:function(e){if("form"===e.nodeName.toLowerCase()){var t,a=e.elements,n=[],o=a.length,r="";for(t=0;t<o;t+=1){var s=(e=a[t]).type,l=e.name,c=e.value;switch(s){case"text":case"textarea":case"select-one":case"hidden":r=l+"="+c,n.push(r);break;case"radio":case"checkbox":e.checked&&(r=l+"="+c,n.push(r))}}return n.join("&")}console.warn("serialize() needs a form")},getQueryString:function(e){if("a"===e.nodeName.toLowerCase())return e.href.split("?")[1];console.warn("getQueryString() needs an a element")}},xhr:function(){return new XMLHttpRequest},getResponseType:function(e){var t="";return-1==e.indexOf("text/xml")&&-1==e.indexOf("application/xml")||(t="xml"),-1!=e.indexOf("application/json")&&(t="json"),-1==e.indexOf("text/html")&&-1==e.indexOf("text/plain")||(t="text"),t},post:function(e){var t,a=this.xhr();e.complete=e.complete||function(){},e.type="POST",e.url=e.url||location.href,e.data=e.data||null,t="object"==typeof e.data?Ajax.Utils.toQueryString(e.data):e.data,a.open(e.type,e.url,!0),t.length>0?(a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(t)):a.send(null),a.onreadystatechange=function(){var t=a.status,n=a.readyState;if(200==t&&4==n){var o,r=a.getAllResponseHeaders();switch(Ajax.getResponseType(r)){case"xml":o=a.responseXML;break;case"json":case"text":default:o=a.responseText}e.complete(o)}}},get:function(e){var t,a=this.xhr();e.complete=e.complete||function(){},e.type="GET",e.url=e.url||location.href,e.data=e.data||null,t="object"==typeof e.data?Ajax.Utils.toQueryString(e.data):e.data,a.open(e.type,e.url+"?"+t,!0),a.send(null),a.onreadystatechange=function(){var t=a.status,n=a.readyState;if(200==t&&4==n){var o,r=a.getAllResponseHeaders();switch(Ajax.getResponseType(r)){case"xml":o=a.responseXML;break;case"json":case"text":default:o=a.responseText}e.complete(o)}}},getJSON:function(e,t){var a,n=this.xhr();e.url=e.url||location.href,e.data=e.data||null,t=t||function(){},e.type=e.type||"json",a="object"==typeof e.data?Ajax.Utils.toQueryString(e.data):e.data;var o=e.url;if("jsonp"==e.type){window.jsonCallback=t;var r=o.replace("callback=?","callback=jsonCallback"),s=document.createElement("script");s.src=r,document.body.appendChild(s)}n.open("GET",e.url,!0),n.send(a),n.onreadystatechange=function(){200==n.status&&4==n.readyState&&(console.log(n.responseText),t(JSON.parse(n.responseText)))}}};